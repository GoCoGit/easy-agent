spring:
  application:
    name: easy-agent
  profiles:
    active: dev
  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      password: ${REDIS_PASSWORD}
      key-prefix: "EA:"
  flyway:
    enabled: true
    baseline-on-migrate: true
    locations: classpath:db/migration
    validate-on-migrate: true

  datasource:
    url: jdbc:postgresql://${PGSQL_HOST}:${PGSQL_PORT}/${PGSQL_DATABASE}
    username: ${PGSQL_USERNAME}
    password: ${PGSQL_PASSWORD}
    driver-class-name: org.postgresql.Driver

    jpa:
      hibernate:
        ddl-auto: validate
        naming:
          physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
      show-sql: true
      properties:
        hibernate:
          format_sql: true
          dialect: org.hibernate.dialect.PostgreSQLDialect
  ai:
    mcp:
      client:
        enabled: true
        name: spring-ai-mcp-client-1.0.0
        type: ASYNC
        sse:
          connections:
            server1:
              url: https://mcp.amap.com
              sse-endpoint: /sse?key=${AMAP_KEY}
        stdio:
          servers-configuration: classpath:mcp-server.json

    vectorstore:
      redis:
        initialize-schema: true
        index-name: easy-vectorstore
        prefix: "${spring.data.redis.key-prefix}embedding:"

#    ollama:
#      base-url: http://localhost:11434
#      chat:
#        model: qwen3
#        options:
#          temperature: 0.7

    openai:
      api-key: ${OPENAI_API_KEY}
      base-url: ${OPENAI_BASE_URL}
      chat:
        options:
          model: ${OPENAI_MODEL}

server:
  port: 8881

searxng:
  url: ${SEARXNG_URL}
  count: ${SEARXNG_COUNT}